{"version":3,"file":"commonHelpers.js","sources":["../src/index.js","../src/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst selectors = {\n  breedSelect: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\n\nconst { breedSelect, catInfo, loader, error } = selectors;\n\nexport function showLoader() {\n  loader.classList.add('active');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('active');\n}\nexport function showBreedSelect() {\n  breedSelect.classList.remove('hidden');\n}\nfunction showError(message) {\n  error.classList.remove('active');\n  iziToast.error({\n    title: '✖️ Error',\n    message: message,\n    position: 'topRight',\n  });\n  error.classList.add('active');\n}\n\nfunction hideError() {\n  error.classList.remove('active');\n}\n\nfunction populateBreedSelect(cats) {\n  const options = cats\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n  breedSelect.insertAdjacentHTML('beforeend', options);\n  new SlimSelect({\n    select: '.breed-select',\n  });\n}\n\nfunction showCatInfo(cat) {\n  if (cat && cat.breeds && cat.breeds.length > 0) {\n    const breed = cat.breeds[0];\n    const { name, description, temperament } = breed;\n    const url = cat.url;\n    catInfo.innerHTML = `\n      <img class=\"cat-img\" src=\"${url}\" alt=\"${name}\" width=\"460px\">\n      <div class=\"cat-info-div\">\n        <h2 class=\"cat-title\">${name}</h2>\n        <p class=\"cat-description\">${description}</p>\n        <p class=\"cat-temperament\"><span class=\"cat-temperament-span\">Temperament:</span>${temperament}</p>\n      </div>`;\n  } else {\n    showError('No information available for this cat.');\n  }\n}\n\nbreedSelect.addEventListener('change', onSelectBreed);\n\nfunction onSelectBreed(evt) {\n  showLoader();\n  breedSelect.classList.add('hidden');\n  catInfo.classList.add('hidden');\n  hideError();\n\n  const breedId = evt.currentTarget.value;\n  fetchCatByBreed(breedId)\n    .then(data => {\n      hideLoader();\n      breedSelect.classList.remove('hidden');\n      showCatInfo(data);\n      catInfo.classList.remove('hidden');\n    })\n    .catch(error => {\n      console.error('Error fetching cat:', error);\n      hideLoader();\n      breedSelect.classList.remove('hidden');\n      showError(`Failed to get the cat's details`);\n    });\n}\n\nfetchBreeds()\n  .then(breeds => {\n    populateBreedSelect(breeds);\n  })\n  .catch(error => {\n    console.error('Error fetching breeds:', error);\n    breedSelect.disabled = true;\n    showError(error.message);\n  });\n","// import axios from 'axios';\n\n// axios.defaults.headers.common['x-api-key'] =\n//   'live_0SWyH0vISoIqEXgbFIimybzOqi5XaiNoAteDK3SHbq3BMjgBZjbA1wtWtajzWKL3';\n\n// export function fetchBreeds() {\n//   return axios\n//     .get('https://api.thecatapi.com/v1/breeds')\n//     .then(response => {\n//       if (!response.data || !Array.isArray(response.data)) {\n//         throw new Error('Invalid response');\n//       }\n//       return response.data;\n//     })\n//     .catch(error => {\n//       console.error('Error fetching breeds:', error);\n//       throw error;\n//     });\n// }\n\n// export function fetchCatByBreed(breedId) {\n//   return axios\n//     .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n//     .then(response => {\n//       if (!response.data || !Array.isArray(response.data)) {\n//         throw new Error('Invalid response');\n//       }\n//       return response.data[0];\n//     })\n//     .catch(error => {\n//       console.error('Error fetching cat:', error);\n//       throw error;\n//     });\n// }\n\nimport axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_0SWyH0vISoIqEXgbFIimybzOqi5XaiNoAteDK3SHbq3BMjgBZjbA1wtWtajzWKL3';\n\nimport { showLoader, hideLoader, showBreedSelect } from './index.js';\nexport function fetchBreeds() {\n  showLoader();\n\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => {\n      hideLoader();\n\n      if (!response.data || !Array.isArray(response.data)) {\n        throw new Error('Invalid response');\n      }\n      showBreedSelect();\n      return response.data;\n    })\n    .catch(error => {\n      hideLoader();\n\n      console.error('Error fetching breeds:', error);\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  showLoader();\n\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => {\n      hideLoader();\n\n      if (!response.data || !Array.isArray(response.data)) {\n        throw new Error('Invalid response');\n      }\n      return response.data[0];\n    })\n    .catch(error => {\n      hideLoader();\n\n      console.error('Error fetching cat:', error);\n      throw error;\n    });\n}\n"],"names":["selectors","breedSelect","catInfo","loader","error","showLoader","hideLoader","showBreedSelect","showError","message","iziToast","hideError","populateBreedSelect","cats","options","id","name","SlimSelect","showCatInfo","cat","breed","description","temperament","url","onSelectBreed","evt","breedId","fetchCatByBreed","data","fetchBreeds","breeds","axios","response"],"mappings":"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"}